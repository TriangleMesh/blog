<!DOCTYPE html>
<html lang="en-us">

  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Robot Bounded in Circle - Q</title>
    <meta property="og:title" content="Robot Bounded in Circle - Q">
    
    <meta name="twitter:card" content="summary">

    
    
      
    

    
      
      <meta property="description" content="LeetCode Problem: Robot Bounded In Circle
[&amp;hellip;] a string of instructions, which will be repeated forever.
[&amp;hellip;] For each instruction:
[&amp;hellip;] To determine if the robot is bounded, we &amp;hellip;">
      <meta property="og:description" content="LeetCode Problem: Robot Bounded In Circle
[&amp;hellip;] a string of instructions, which will be repeated forever.
[&amp;hellip;] For each instruction:
[&amp;hellip;] To determine if the robot is bounded, we &amp;hellip;">
      
    

    
    
    

    

    
    




    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    <style>
      a {
          text-decoration: none;
      }
    </style>
    
  <head>
    <meta charset="utf-8">
    <title>Robot Bounded in Circle | Q</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="/css/custom.css">
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  </head>
  </head>
  <body class="leetcode">
    <header class="masthead">
      <h1><a href="/">Q</a></h1>



      <nav class="menu">
  <input id="menu-check" type="checkbox" hidden/>
  <label id="menu-label" for="menu-check" class="unselectable" hidden>
    <span class="icon close-icon">✕</span>
    <span class="icon open-icon">☰</span>
    <span class="text">Menu</span>
  </label>
  <ul>
  
  
  <li><a href="/posts/">Posts</a></li>
  
  <li><a href="/leetcode/">Leetcode</a></li>
  
  <li><a href="/about/">About</a></li>
  
  
  </ul>
</nav>

    </header>

    <article class="main">
      <header class="title">
      
<h1>Robot Bounded in Circle</h1>



<h3>






2025-08-23
</h3>

<hr>



      </header>





<h2 id="problem-description">Problem Description</h2>
<p><strong>LeetCode Problem:</strong> <a href="https://leetcode.com/problems/robot-bounded-in-circle/description/">Robot Bounded In Circle</a></p>
<h2 id="input-output">Input/Output</h2>
<h3 id="input-instructions-str">Input - <code>instructions: str</code></h3>
<p>a string of instructions, which will be repeated forever.</p>
<ul>
<li><code>1 &lt;= instructions.length &lt;= 100</code></li>
<li><code>instructions[i]</code> is <code>'G'</code>, <code>'L'</code> or <code>'R'</code></li>
</ul>
<p>For each instruction:</p>
<ul>
<li><code>'G'</code>: moves the robot 1 step forward by adding the current direction to its position</li>
<li><code>'L'</code> and <code>'R'</code>: rotate the direction vector 90 degrees</li>
</ul>
<h3 id="output-true-false">Output - <code>True/False</code></h3>
<ul>
<li><strong>True:</strong> The robot is bounded in a circle (will return to origin eventually)</li>
<li><strong>False:</strong> The robot will move infinitely far from the origin</li>
</ul>
<p>To determine if the robot is bounded, we check after one execution of the instructions:</p>
<p><strong>True (Bounded):</strong></p>
<ul>
<li><code>final_pos == (0, 0)</code>
or</li>
<li><code>final_dir != initial_dir</code>
<ul>
<li>The robot can only face 4 directions, so if direction changes after one cycle, it will form a closed shape within 4 cycles</li>
</ul>
</li>
</ul>
<p><strong>False (Unbounded):</strong></p>
<ul>
<li><code>final_pos != (0, 0)</code> and <code>final_dir == initial_dir</code></li>
</ul>
<h2 id="analysis">Analysis</h2>
<p>To determine True/False, we need to track:</p>
<ol>
<li>The robot&rsquo;s position</li>
<li>Its direction</li>
</ol>
<p>in 2D space</p>
<p><strong>Direction options:</strong>
To represent direction, we have two options:</p>
<ol>
<li>Update the angle θ and use (cosθ,sinθ)</li>
<li>Simply choose from four unit vectors: (0,1), (1,0), (0,-1), (-1,0)</li>
</ol>
<p>Here we choose the second option to solve it:</p>
<h2 id="solution">Solution</h2>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#080;font-weight:bold">class</span> <span style="color:#b06;font-weight:bold">Solution</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#080;font-weight:bold">def</span> <span style="color:#06b;font-weight:bold">isRobotBounded</span>(self, instructions: <span style="color:#007020">str</span>) <span style="color:#333">-&gt;</span> <span style="color:#007020">bool</span>:
</span></span><span style="display:flex;"><span>        direction <span style="color:#333">=</span> [<span style="color:#00d;font-weight:bold">0</span>, <span style="color:#00d;font-weight:bold">1</span>]
</span></span><span style="display:flex;"><span>        pos <span style="color:#333">=</span> [<span style="color:#00d;font-weight:bold">0</span>, <span style="color:#00d;font-weight:bold">0</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-weight:bold">for</span> c <span style="color:#000;font-weight:bold">in</span> instructions:
</span></span><span style="display:flex;"><span>            <span style="color:#080;font-weight:bold">if</span> c <span style="color:#333">==</span> <span style="background-color:#fff0f0">&#39;L&#39;</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#888"># [0, 1] -&gt; [-1, 0] -&gt; [0, -1] -&gt; [1, 0] -&gt; [0, 1]</span>
</span></span><span style="display:flex;"><span>                x, y <span style="color:#333">=</span> direction
</span></span><span style="display:flex;"><span>                direction <span style="color:#333">=</span> [<span style="color:#333">-</span>y, x]
</span></span><span style="display:flex;"><span>            <span style="color:#080;font-weight:bold">if</span> c <span style="color:#333">==</span> <span style="background-color:#fff0f0">&#39;R&#39;</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#888"># [0, 1] -&gt; [1, 0] -&gt; [0, -1] -&gt; [-1, 0]</span>
</span></span><span style="display:flex;"><span>                x, y <span style="color:#333">=</span> direction
</span></span><span style="display:flex;"><span>                direction <span style="color:#333">=</span> [y, <span style="color:#333">-</span>x]
</span></span><span style="display:flex;"><span>            <span style="color:#080;font-weight:bold">if</span> c <span style="color:#333">==</span> <span style="background-color:#fff0f0">&#39;G&#39;</span>:
</span></span><span style="display:flex;"><span>                pos[<span style="color:#00d;font-weight:bold">0</span>] <span style="color:#333">+=</span> direction[<span style="color:#00d;font-weight:bold">0</span>]
</span></span><span style="display:flex;"><span>                pos[<span style="color:#00d;font-weight:bold">1</span>] <span style="color:#333">+=</span> direction[<span style="color:#00d;font-weight:bold">1</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-weight:bold">return</span> direction <span style="color:#333">!=</span> [<span style="color:#00d;font-weight:bold">0</span>, <span style="color:#00d;font-weight:bold">1</span>] <span style="color:#000;font-weight:bold">or</span> pos <span style="color:#333">==</span> [<span style="color:#00d;font-weight:bold">0</span>, <span style="color:#00d;font-weight:bold">0</span>]
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="complexity">Complexity</h2>
<ul>
<li><strong>Time:</strong> O(n) - iterate through each instruction once</li>
<li><strong>Space:</strong> O(1) - only use fixed variables for position and direction</li>
</ul>
<h2 id="generalization">Generalization</h2>
<p>This approach extends to higher dimensions with discrete rotations and variable step sizes:</p>
<p><strong>Core Principle (Any Dimension):</strong></p>
<ul>
<li><strong>Bounded condition:</strong> <code>final_position == origin</code> OR <code>final_direction != initial_direction</code></li>
<li><strong>Rotation constraints:</strong>
<ul>
<li><strong>2D:</strong> Simple angles (90°, 60°, 45°) - rational multiples of 2π</li>
<li><strong>3D:</strong> More complex - rotations around different axes, Euler angles</li>
<li><strong>nD:</strong> Even more complex - rotations in multiple planes simultaneously</li>
<li><strong>Key requirement:</strong> Rotations must form a finite group (discrete, not continuous)</li>
</ul>
</li>
</ul>
<p><strong>Higher Dimensions:</strong></p>
<ul>
<li><strong>Direction representation:</strong>
<ul>
<li>2D: <code>[dx, dy]</code> unit vector</li>
<li>3D: <code>[dx, dy, dz]</code> unit vector</li>
<li>nD: <code>[d1, d2, ..., dn]</code> where <code>d1² + d2² + ... + dn² = 1</code></li>
</ul>
</li>
<li><strong>Rotation:</strong> n×n orthogonal matrices
<ul>
<li>In our 2D solution, although we use simple pattern-based coordinate transformations to find the transformed (x,y), this is fundamentally a rotation problem around the origin that can be explained using linear algebra:
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># General rotation matrix for angle θ (counterclockwise):
</span></span><span style="display:flex;"><span>⎡cos(θ)  -sin(θ)⎤ ⎡x⎤   ⎡x·cos(θ) - y·sin(θ)⎤
</span></span><span style="display:flex;"><span>⎣sin(θ)   cos(θ)⎦ ⎣y⎦ = ⎣x·sin(θ) + y·cos(θ)⎦
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># For θ = 90° (Left turn): cos(90°)=0, sin(90°)=1
</span></span><span style="display:flex;"><span>⎡0  -1⎤ ⎡x⎤   ⎡-y⎤
</span></span><span style="display:flex;"><span>⎣1   0⎦ ⎣y⎦ = ⎣ x⎦
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># For θ = -90° (Right turn): cos(-90°)=0, sin(-90°)=-1  
</span></span><span style="display:flex;"><span>⎡ 0   1⎤ ⎡x⎤   ⎡ y⎤
</span></span><span style="display:flex;"><span>⎣-1   0⎦ ⎣y⎦ = ⎣-x⎦
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
</li>
<li><strong>Same logic:</strong> If direction changes after one cycle, robot forms closed path in finite steps</li>
</ul>
<p><strong>Variable Step Size:</strong></p>
<ul>
<li>Replace <code>pos += direction * 1</code> with <code>pos += direction * step_length</code></li>
</ul>
<p><strong>3D Extension - Variable Step Lengths with X/Y/Z-Axis Rotations:</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">83
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#080;font-weight:bold">import</span> <span style="color:#0e84b5;font-weight:bold">math</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080;font-weight:bold">def</span> <span style="color:#06b;font-weight:bold">isRobotBounded3D</span>(instructions: <span style="color:#007020">str</span>) <span style="color:#333">-&gt;</span> <span style="color:#007020">bool</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#888"># Start facing +Y direction</span>
</span></span><span style="display:flex;"><span>    direction <span style="color:#333">=</span> [<span style="color:#00d;font-weight:bold">0</span>, <span style="color:#00d;font-weight:bold">1</span>, <span style="color:#00d;font-weight:bold">0</span>]
</span></span><span style="display:flex;"><span>    pos <span style="color:#333">=</span> [<span style="color:#00d;font-weight:bold">0</span>, <span style="color:#00d;font-weight:bold">0</span>, <span style="color:#00d;font-weight:bold">0</span>]
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#080;font-weight:bold">def</span> <span style="color:#06b;font-weight:bold">rotate_around_z</span>(vec, angle_deg):
</span></span><span style="display:flex;"><span>        <span style="background-color:#fff0f0">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="background-color:#fff0f0">        Rotate vector around z-axis using 3D rotation matrix:
</span></span></span><span style="display:flex;"><span><span style="background-color:#fff0f0">        ⎡cos(θ)  -sin(θ)   0⎤ ⎡x⎤   ⎡x*cos(θ) - y*sin(θ)⎤
</span></span></span><span style="display:flex;"><span><span style="background-color:#fff0f0">        ⎢sin(θ)   cos(θ)   0⎥ ⎢y⎥ = ⎢x*sin(θ) + y*cos(θ)⎥
</span></span></span><span style="display:flex;"><span><span style="background-color:#fff0f0">        ⎣  0        0      1⎦ ⎣z⎦   ⎣        z           ⎦
</span></span></span><span style="display:flex;"><span><span style="background-color:#fff0f0">        
</span></span></span><span style="display:flex;"><span><span style="background-color:#fff0f0">        Z-axis rotation only affects x,y coordinates, z remains unchanged
</span></span></span><span style="display:flex;"><span><span style="background-color:#fff0f0">        &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        angle <span style="color:#333">=</span> math<span style="color:#333">.</span>radians(angle_deg)  <span style="color:#888"># Convert degrees to radians</span>
</span></span><span style="display:flex;"><span>        cos_a, sin_a <span style="color:#333">=</span> math<span style="color:#333">.</span>cos(angle), math<span style="color:#333">.</span>sin(angle)
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-weight:bold">return</span> [
</span></span><span style="display:flex;"><span>            vec[<span style="color:#00d;font-weight:bold">0</span>] <span style="color:#333">*</span> cos_a <span style="color:#333">-</span> vec[<span style="color:#00d;font-weight:bold">1</span>] <span style="color:#333">*</span> sin_a,  <span style="color:#888"># new_x = x*cos(θ) - y*sin(θ)</span>
</span></span><span style="display:flex;"><span>            vec[<span style="color:#00d;font-weight:bold">0</span>] <span style="color:#333">*</span> sin_a <span style="color:#333">+</span> vec[<span style="color:#00d;font-weight:bold">1</span>] <span style="color:#333">*</span> cos_a,  <span style="color:#888"># new_y = x*sin(θ) + y*cos(θ)</span>
</span></span><span style="display:flex;"><span>            vec[<span style="color:#00d;font-weight:bold">2</span>]                            <span style="color:#888"># new_z = z (unchanged)</span>
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#080;font-weight:bold">def</span> <span style="color:#06b;font-weight:bold">rotate_around_x</span>(vec, angle_deg):
</span></span><span style="display:flex;"><span>        <span style="background-color:#fff0f0">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="background-color:#fff0f0">        Rotate vector around x-axis using 3D rotation matrix:
</span></span></span><span style="display:flex;"><span><span style="background-color:#fff0f0">        ⎡1    0       0   ⎤ ⎡x⎤   ⎡        x          ⎤
</span></span></span><span style="display:flex;"><span><span style="background-color:#fff0f0">        ⎢0  cos(θ) -sin(θ)⎥ ⎢y⎥ = ⎢y*cos(θ) - z*sin(θ)⎥
</span></span></span><span style="display:flex;"><span><span style="background-color:#fff0f0">        ⎣0  sin(θ)  cos(θ)⎦ ⎣z⎦   ⎣y*sin(θ) + z*cos(θ)⎦
</span></span></span><span style="display:flex;"><span><span style="background-color:#fff0f0">        
</span></span></span><span style="display:flex;"><span><span style="background-color:#fff0f0">        X-axis rotation only affects y,z coordinates, x remains unchanged
</span></span></span><span style="display:flex;"><span><span style="background-color:#fff0f0">        &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        angle <span style="color:#333">=</span> math<span style="color:#333">.</span>radians(angle_deg)  <span style="color:#888"># Convert degrees to radians</span>
</span></span><span style="display:flex;"><span>        cos_a, sin_a <span style="color:#333">=</span> math<span style="color:#333">.</span>cos(angle), math<span style="color:#333">.</span>sin(angle)
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-weight:bold">return</span> [
</span></span><span style="display:flex;"><span>            vec[<span style="color:#00d;font-weight:bold">0</span>],                            <span style="color:#888"># new_x = x (unchanged)</span>
</span></span><span style="display:flex;"><span>            vec[<span style="color:#00d;font-weight:bold">1</span>] <span style="color:#333">*</span> cos_a <span style="color:#333">-</span> vec[<span style="color:#00d;font-weight:bold">2</span>] <span style="color:#333">*</span> sin_a,   <span style="color:#888"># new_y = y*cos(θ) - z*sin(θ)</span>
</span></span><span style="display:flex;"><span>            vec[<span style="color:#00d;font-weight:bold">1</span>] <span style="color:#333">*</span> sin_a <span style="color:#333">+</span> vec[<span style="color:#00d;font-weight:bold">2</span>] <span style="color:#333">*</span> cos_a    <span style="color:#888"># new_z = y*sin(θ) + z*cos(θ)</span>
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#080;font-weight:bold">def</span> <span style="color:#06b;font-weight:bold">rotate_around_y</span>(vec, angle_deg):
</span></span><span style="display:flex;"><span>        <span style="background-color:#fff0f0">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="background-color:#fff0f0">        Rotate vector around y-axis using 3D rotation matrix:
</span></span></span><span style="display:flex;"><span><span style="background-color:#fff0f0">        ⎡ cos(θ)  0  sin(θ)⎤ ⎡x⎤   ⎡x*cos(θ) + z*sin(θ) ⎤
</span></span></span><span style="display:flex;"><span><span style="background-color:#fff0f0">        ⎢   0     1    0   ⎥ ⎢y⎥ = ⎢        y           ⎥
</span></span></span><span style="display:flex;"><span><span style="background-color:#fff0f0">        ⎣-sin(θ)  0  cos(θ)⎦ ⎣z⎦   ⎣-x*sin(θ) + z*cos(θ)⎦
</span></span></span><span style="display:flex;"><span><span style="background-color:#fff0f0">        
</span></span></span><span style="display:flex;"><span><span style="background-color:#fff0f0">        Y-axis rotation only affects x,z coordinates, y remains unchanged
</span></span></span><span style="display:flex;"><span><span style="background-color:#fff0f0">        &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        angle <span style="color:#333">=</span> math<span style="color:#333">.</span>radians(angle_deg)  <span style="color:#888"># Convert degrees to radians</span>
</span></span><span style="display:flex;"><span>        cos_a, sin_a <span style="color:#333">=</span> math<span style="color:#333">.</span>cos(angle), math<span style="color:#333">.</span>sin(angle)
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-weight:bold">return</span> [
</span></span><span style="display:flex;"><span>            vec[<span style="color:#00d;font-weight:bold">0</span>] <span style="color:#333">*</span> cos_a <span style="color:#333">+</span> vec[<span style="color:#00d;font-weight:bold">2</span>] <span style="color:#333">*</span> sin_a,   <span style="color:#888"># new_x = x*cos(θ) + z*sin(θ)</span>
</span></span><span style="display:flex;"><span>            vec[<span style="color:#00d;font-weight:bold">1</span>],                            <span style="color:#888"># new_y = y (unchanged)</span>
</span></span><span style="display:flex;"><span>            <span style="color:#333">-</span>vec[<span style="color:#00d;font-weight:bold">0</span>] <span style="color:#333">*</span> sin_a <span style="color:#333">+</span> vec[<span style="color:#00d;font-weight:bold">2</span>] <span style="color:#333">*</span> cos_a   <span style="color:#888"># new_z = -x*sin(θ) + z*cos(θ)</span>
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#080;font-weight:bold">for</span> c <span style="color:#000;font-weight:bold">in</span> instructions:
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-weight:bold">if</span> c <span style="color:#333">==</span> <span style="background-color:#fff0f0">&#39;L&#39;</span>:  <span style="color:#888"># Yaw left 90° (around z-axis)</span>
</span></span><span style="display:flex;"><span>            direction <span style="color:#333">=</span> rotate_around_z(direction, <span style="color:#00d;font-weight:bold">90</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-weight:bold">elif</span> c <span style="color:#333">==</span> <span style="background-color:#fff0f0">&#39;R&#39;</span>:  <span style="color:#888"># Yaw right 90° (around z-axis)</span>
</span></span><span style="display:flex;"><span>            direction <span style="color:#333">=</span> rotate_around_z(direction, <span style="color:#333">-</span><span style="color:#00d;font-weight:bold">90</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-weight:bold">elif</span> c <span style="color:#333">==</span> <span style="background-color:#fff0f0">&#39;U&#39;</span>:  <span style="color:#888"># Pitch up 90° (around x-axis)</span>
</span></span><span style="display:flex;"><span>            direction <span style="color:#333">=</span> rotate_around_x(direction, <span style="color:#00d;font-weight:bold">90</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-weight:bold">elif</span> c <span style="color:#333">==</span> <span style="background-color:#fff0f0">&#39;D&#39;</span>:  <span style="color:#888"># Pitch down 90° (around x-axis)</span>
</span></span><span style="display:flex;"><span>            direction <span style="color:#333">=</span> rotate_around_x(direction, <span style="color:#333">-</span><span style="color:#00d;font-weight:bold">90</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-weight:bold">elif</span> c <span style="color:#333">==</span> <span style="background-color:#fff0f0">&#39;T&#39;</span>:  <span style="color:#888"># Roll left 90° (around y-axis)</span>
</span></span><span style="display:flex;"><span>            direction <span style="color:#333">=</span> rotate_around_y(direction, <span style="color:#00d;font-weight:bold">90</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-weight:bold">elif</span> c <span style="color:#333">==</span> <span style="background-color:#fff0f0">&#39;S&#39;</span>:  <span style="color:#888"># Roll right 90° (around y-axis)</span>
</span></span><span style="display:flex;"><span>            direction <span style="color:#333">=</span> rotate_around_y(direction, <span style="color:#333">-</span><span style="color:#00d;font-weight:bold">90</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#080;font-weight:bold">elif</span> c<span style="color:#333">.</span>isdigit():  <span style="color:#888"># Numbers represent step length</span>
</span></span><span style="display:flex;"><span>            step_length <span style="color:#333">=</span> <span style="color:#007020">int</span>(c)
</span></span><span style="display:flex;"><span>            <span style="color:#080;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#007020">range</span>(<span style="color:#00d;font-weight:bold">3</span>):
</span></span><span style="display:flex;"><span>                pos[i] <span style="color:#333">+=</span> direction[i] <span style="color:#333">*</span> step_length
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    initial_direction <span style="color:#333">=</span> [<span style="color:#00d;font-weight:bold">0</span>, <span style="color:#00d;font-weight:bold">1</span>, <span style="color:#00d;font-weight:bold">0</span>]
</span></span><span style="display:flex;"><span>    direction_changed <span style="color:#333">=</span> <span style="color:#007020">any</span>(<span style="color:#007020">abs</span>(direction[i] <span style="color:#333">-</span> initial_direction[i]) <span style="color:#333">&gt;</span> <span style="color:#60e;font-weight:bold">0.001</span> <span style="color:#080;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#007020">range</span>(<span style="color:#00d;font-weight:bold">3</span>))
</span></span><span style="display:flex;"><span>    at_origin <span style="color:#333">=</span> <span style="color:#007020">all</span>(<span style="color:#007020">abs</span>(pos[i]) <span style="color:#333">&lt;</span> <span style="color:#60e;font-weight:bold">0.001</span> <span style="color:#080;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#007020">range</span>(<span style="color:#00d;font-weight:bold">3</span>))
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#080;font-weight:bold">return</span> direction_changed <span style="color:#000;font-weight:bold">or</span> at_origin
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#888"># Example: &#34;L2UT3DS1&#34; means Yaw left, move 2, pitch Up, roll left, move 3, pitch Down, roll right, move 1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Key Insight:</strong> In any dimension with discrete rotations, the fundamental bounded condition remains the same regardless of step size.</p>



  <footer>
  
<nav class="post-nav">
  <span class="nav-prev"></span>
  <span class="nav-next"><a href="/leetcode/how-many-numbers-are-smaller-than-the-current-number/">How Many Numbers Are Smaller Than the Current Number</a> &rarr;</span>
</nav>





<script src="//cdn.jsdelivr.net/npm/@xiee/utils/js/math-code.js" defer></script>
<script src="//mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>

<script src="//cdn.jsdelivr.net/npm/@xiee/utils/js/center-img.js" defer></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">


  





<script src="//cdn.jsdelivr.net/combine/gh/highlightjs/cdn-release@%3cnil%3e/build/highlight.min.js,npm/@xiee/utils/js/load-highlight.js" defer></script>



  
  <hr>
  <div class="copyright">© <a href='https://TriangleMesh.github.io/'>Q</a> | <a href='https://github.com/TriangleMesh'>Github</a> | <a href='mailto:trianglemeshq@gmail.com'>Email</a> | since 2024</div>
  
  </footer>
  </article>
  
  


  </body>
</html>

